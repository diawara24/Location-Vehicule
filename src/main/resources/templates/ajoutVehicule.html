<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymleaf/layout"
      layout:decorator="template">
<head>
    <meta charset="UTF-8">
    <title>Gestion des vehicules</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../static/css/style.css" th:href="@{/css/style.css}">
    <script type="application/javascript" th:src="@{/js/jquery.js}"></script>
    <script type="application/javascript" th:src="@{/js/bootstrap.min.js}"></script>
</head>
</head>
<body>
<section layout:fragment="content">
    <form th:object="${veh}" th:action="@{/addVehicule}"  method="post" enctype="multipart/form-data">
        <input  th:field="*{id}" type="hidden">
        <div class="col-md-8 col-sm-8 col-xs-8 col-md-offset-2">
            <div class="panel panel-default">
                <div class="panel-heading">Ajouter un vehicule</div>
                <div class="panel-body">
                    <div class="col-md-6">
                        <div class="panel panel-default">
                            <div class="panel-heading">Information du vehicule</div>
                            <div class="panel-body">
                                <div class="form-group">
                                    <label  for="matricule" class="control-label col-sm-3" >Matricule</label>
                                    <div class="col-sm-12">
                                        <input th:field="*{matricule}" name="matricule" type="text" class="form-control" id="matricule" >
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="carburant" class="control-label col-sm-3" >Carburant</label>
                                    <div class="col-sm-12">
                                        <input th:field="*{carburant}" name="carburant" type="text" class="form-control" id="carburant" >
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label  for="categorie" class="control-label col-sm-3" >Categorie</label>
                                    <div class="col-sm-12">
                                        <input th:field="*{categorie}" name="ategorie" type="text" class="form-control" id="categorie" >
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="couler" class="control-label col-sm-3" >Couleur</label>
                                    <div class="col-sm-12">
                                        <input th:field="*{coleur}" name="couleur" type="text" class="form-control" id="couler" >
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="prixAchat" class="control-label col-sm-5" >Prix d'achat</label>
                                    <div class="col-sm-12">
                                        <input th:field="*{prixAchat}" name="prixAchat" type="text" class="form-control" id="prixAchat" >
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="panel panel-default">
                            <div class="panel-heading">Autres informationse</div>
                            <div class="panel-body">
                                <div class="form-group">
                                    <label for="typeVehicule" class="control-label col-sm-12" >Type de vehicule</label>
                                    <div class="col-sm-11">
                                        <select th:field="*{typeVehicule.id}"  name="typeVehicule" id="typeVehicule" class="form-control">
                                            <option value="0"></option>
                                            <option th:each="t:${typeV}" th:value="${t.id}" th:text="${t.libelleType}"></option>
                                        </select>
                                    </div>
                                    <button type="button" class="btn btn-primary col-sm-1" id="myBtn">+</button>
                                    <!-- Modal -->
                                    <div class="modal fade" id="myModal" role="dialog">
                                        <div class="modal-dialog modal-sm">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                    <h4 class="modal-title">Type de Vehicule</h4>
                                                </div>
                                                <div class="modal-body">
                                                    <p>This is a small modal.</p>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Modal -->
                                </div>
                                <div class="form-group">
                                    <label for="marque" class="control-label col-sm-12" >Marque</label>
                                    <div class="col-sm-11">
                                        <select th:field="*{modeleVehicule.marqueVehicule.id}" name="marque" id="marque" class="form-control">
                                            <option value="0"></option>
                                            <option th:each="m:${marque}" th:value="${m.id}" th:text="${m.nomMarque}"></option>
                                        </select>
                                    </div>
                                    <button class="btn btn-primary col-sm-1">+</button>
                                </div>
                                <div class="form-group">
                                    <label for="modele" class="control-label col-sm-12" >Modele</label>
                                    <div class="col-sm-11">
                                        <select th:field="*{modeleVehicule.id}" name="modele" id="modele" class="form-control">
                                            <option value="0"></option>
                                            <option th:each="mo:${modele}" th:value="${mo.id}" th:text="${mo.nomModele}"></option>
                                        </select>
                                    </div>
                                    <button class="btn btn-primary col-sm-1">+</button>
                                </div>
                                <div class="form-group">
                                    <label for="ammande" class="control-label col-sm-12" >Ammande</label>
                                    <div class="col-sm-11">
                                        <select th:field="*{ammandeVehicule.id}" name="ammande" id="ammande" class="form-control">
                                            <option value="0"></option>
                                            <option th:each="a:${ammande}" th:value="${a.id}" th:text="${a.montantAmmande}"></option>
                                        </select>
                                    </div>
                                    <button class="btn btn-primary col-sm-1" >+</button>
                                </div>
                                <div class="form-group">
                                    <label for="prixLoc" class="control-label col-sm-12" >Prix de Location</label>
                                    <div class="col-sm-11">
                                        <select th:field="*{tarifLoction.id}" name="prixLoc" id="prixLoc" class="form-control">
                                            <option value="0"></option>
                                            <option th:each="t:${tarif}" th:value="${t.id}" th:text="${t.prixLocation}"></option>
                                        </select>
                                    </div>
                                    <button class="btn btn-primary col-sm-1">+</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <input class="btn btn-primary" type="submit" value="Enregistrer">
        </div>
    </form>
    <script th:inline="javascript">
        // $(document).ready(function(){
        //     $("#marque").change(function(){
        //         $.ajax({
        //             url:"/get/"+$("#marque").val(),
        //             type:"GET",
        //             error:function (request,status,error) {
        //                 alert(request.responseText);
        //             },
        //             success:function (data) {
        //
        //             }
        //         });
        //     });
        // });
        $(document).ready(function(){
            $("#myBtn").click(function(){
                $("#myModal").modal();
            });
        });
    </script>
</section>
</body>
</html>